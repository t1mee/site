doctype html

- var css_dir = "/css"
- var js_dir = "/js"

- var title = ""
- var main_js = ""
- var body_class = ""
- var css_list = ["vars", "main", "navbar"]
	
mixin product(img, title, description, link)
	.col-lg-4.color-white.d-flex.flex-column.mt-5.mt-lg-0
		img(src= img alt= title)
		h4.productName.color-info=title
		h5.productSubtitle.text-md=description.subtitle
		ul.ps-3
			each text in description.info 
				li.color-gray=text
		form.mt-2(action= link)
			button.btn.btnContained.mt-4
				span.color-white.buyBtn Buy now

- var nav_links = [{title: "Documentation", url: "https://docs.pikvm.org"}, {title: "Support", url: "/support"}, {title: "Download", url: "/download"}, {title: "Donate", url: "/donate"}]

- var github_link = "https://github.com/pikvm/pikvm"
- var discord_link = "https://discord.gg/bpmXfz5"
- var reddit_link = "https://reddit.com/r/pikvm"
- var email_link = "mailto:mdevaev@gmail.com"


mixin navbar(currentPath)
	nav.navbar.navbar-expand-lg.navbar-dark.bg-color-main.fixed-top.py-3
		.container-fluid.justify-content-end
			button.navbar-toggler(type='button', data-bs-toggle='collapse', data-bs-target='#navbarSupportedContent', aria-controls='navbarSupportedContent', aria-expanded='false', aria-label='Toggle navigation')
				span.navbar-toggler-icon
			#navbarSupportedContent.collapse.navbar-collapse.justify-content-center
				.content-size.w-100.d-flex.flex-column.flex-lg-row.justify-content-between
					a.navbar-brand(href='#') #[img(src="/assets/logo.svg")]
					ul.navbar-nav.mb-2.mb-lg-0.justify-content-between.w-100.mx-0.mx-md-3
						li.d-flex.align-items-center.nav-item
							a.nav-link.text-md(class=(currentPath === "about" ? "color-info" : "text-white") href="/") About
						li.d-flex.align-items-center
							a.nav-link.text-md(class=(currentPath === "buy" ? "color-info" : "text-white") data-bs-toggle="collapse" id="products" href="#collapseProducts" role="button" aria-expanded="false" aria-controls="collapseProducts") Products  #[img.arrow(src="/assets/arrow-down.svg")] 
							#collapseProducts.collapse.bg-color-main.mb-2.mb-lg-0.mt-2.mt-lg-0
								.container-fluid.d-flex.justify-content-center
									.content-size.w-100.d-flex.flex-column.flex-md-row
										.category.mt-3.mt-md-0
											span.text-white.categoryName Название раздела
											ul.categories.mt-3.ps-0.color-white.pt-0.pt-lg-4
												li PiKVM V3
												li PiKVM V4 mini
												li PiKVM V4 plus
										.category.ms-0.ms-md-5.mt-3.mt-md-0
											span.text-white.categoryName Название раздела
											ul.categories.mt-3.ps-0.color-white.pt-0.pt-lg-4
												li PiKVM V3
												li PiKVM V4 mini
												li PiKVM V4 plus
						each nav in nav_links 
							li.d-flex.align-items-center
								a.nav-link.text-md(class=(currentPath === nav.url ? "color-info" : "text-white") href= nav.url)= nav.title
					.d-flex.justify-content-center.ms-0.ms-md-3
						a.d-flex.align-items-center(target="_blank" href=github_link): img(src="/assets/github.svg" alt="github" width="75px" height="20px")
						a.d-flex.align-items-center.social(target="_blank" href=reddit_link): img(src="/assets/reddit.svg" alt="github" width="75px" height="20px")



block vars

html(lang="en")
	head
		meta(charset="utf-8")
		
		title #{title}
		link(rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png")
		link(rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png")
		link(rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png")
		link(rel="manifest" href="/site.webmanifest")
		link(rel="mask-icon" href="/img/safari-pinned-tab.svg" color="#5bbad5")
		link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous")
		script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous")
		meta(name="msapplication-TileColor" content="#2b5797")
		meta(name="theme-color" content="#ffffff")
		meta(content="width=device-width, initial-scale=1" name="viewport")
		meta(data-n-head="ssr" property="og:description"
			 content="PiKVM an easy and inexpensive DIY IP-KVM on Raspberry Pi to control remote machines: Full HD, mouse, Mass Storage Drive, VNC, IPMI and much more out of the box. Most modern KVM over IP ever!")
		meta(data-n-head="ssr" property="og:image" content="https://pikvm.org/img/logo.png")
		meta(data-n-head="ssr" property="og:url" content="https://pikvm.org")
		meta(data-n-head="ssr" data-hid="og:title" property="og:title" content=title)
		link(data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico")

		each name in css_list
			link(rel="stylesheet" href=`${css_dir}/${name}.css`)

		if main_js
			script(type="module")
				| import {main} from "#{js_dir}/#{main_js}.js";
				| main();

	body
		block body
		


